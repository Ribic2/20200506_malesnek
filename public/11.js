(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{246:function(e,t,i){"use strict";var n=i(97);i.n(n).a},247:function(e,t,i){(e.exports=i(4)(!1)).push([e.i,"\n.primaryImg{\n    border: solid 3px red;\n}\n",""])},425:function(e,t,i){"use strict";i.r(t);i(21);var n=i(12),a=i.n(n),r=i(14);function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o={data:function(){var e;return s(e={migration:r,newItemName:"",newItemPrice:"",newQuantity:"",newDimension:"",newCategory:"",newColor:"",newImage:[],customCategory:"",newItemDescription:"",primaryPicture:"",itemName:"",quantity:"",itemPrice:"",description:"",discount:"",changeDiscount:"",isOnSale:!1,selectedItemId:"",Search:"",change:!1,addNewCategorie:!1,showImages:[],deleteItem:!1},"discount",!1),s(e,"success",!1),s(e,"successAdd",!1),s(e,"addItem",!1),s(e,"subCategorie",["Unikat artikel","Redni artikel"]),s(e,"requiredInput",[function(e){return!!e||"Pozabili ste vnesti vrednost v to polje!"}]),s(e,"error",""),e},methods:{allUnlisted:function(){return this.$store.dispatch("allUnlisted")},allDelisted:function(){return this.$store.dispatch("allListed")},getAllItems:function(){return this.$store.dispatch("getAllItems")},delistItem:function(e,t){var i=this;a.a.post("/api/item/delist",{itemId:e,status:t}).then((function(e){i.getItemsForAdmin()}))},getItemsForAdmin:function(){return this.$store.dispatch("getItemsForAdmin")},searchForItems:function(){return this.$store.dispatch("searchItems",this.Search)},changeItemData:function(e){return this.$store.dispatch("changeItemData",e)},changeData:function(){var e=this,t={itemId:this.selectedItemId,itemName:this.itemName,"količina":this.quantity,cena:this.itemPrice,Description:this.description,Discount:this.isOnSale?this.discount:""};a.a.post(r[0].redirectURL+"api/items/change",t).then((function(t){(t.data=1)&&(e.getItemsForAdmin(),e.success=!0)})),this.selectedItemId=null,this.change=!1},deleteItemFunction:function(){var e=this;a.a.post(r[0].redirectURL+"api/items/delete",{itemId:this.selectedItemId}).then((function(t){1==t.data&&e.getItemsForAdmin()})),this.selectedItemId=null,this.deleteItem=!1},getIdToDelete:function(e){this.deleteItem=!0,this.selectedItemId=e.itemId},getIdToChange:function(e){this.change=!0,this.selectedItemId=e.itemId,this.itemName=e.itemName,this.discount=e.Discount,this.quantity=e.Quantity,this.itemPrice=e.itemPrice,this.isOnSale=e.isOnSale,this.description=e.itemDescription},addNewItem:function(){var e=this;a.a.defaults.headers.post["Content-Type"]="multipart/form-data";for(var t=new FormData,i=this.addNewCategorie?this.customCategory:this.newCategory,n=0;n<this.newImage.length;n++)t.append("images[]",this.newImage[n]);if(!this.checkModels())return this.error="Nekatera polja manjkajo!",!1;t.append("itemName",this.newItemName),t.append("cena",this.newItemPrice),t.append("kolicina",this.newQuantity),t.append("Dimensions",this.newDimension),t.append("Categorie",i),t.append("Color",this.newColor),t.append("Description",this.newItemDescription),t.append("itemImg",this.primaryPicture),a.a.post(r[0].redirectURL+"api/items/add",t).then((function(t){1==t.data&&(e.getItemsForAdmin(),e.addItem=!1,e.successAdd=!0,e.newItemName=null,e.newItemPrice=null,e.newQuantity=null,e.newDimension=null,e.newCategory=null,e.customCategory=null,e.newColor=null,e.newItemDescription=null,e.primaryPicture=null)})).catch((function(e){e.response&&console.log(e.response.data.errors.cena)}))},cancel:function(){this.$refs.form.reset(),this.addItem=!1,this.newItemPrice=null,this.newItemPrice=null,this.newQuantity=null,this.newDimension=null,this.newCategory=null,this.customCategory=null,this.newColor=null,this.newItemDescription=null,this.primaryPicture=null},previewImages:function(){for(var e=0;e<this.newImage.length;e++)this.showImages.push({url:URL.createObjectURL(this.newImage[e]),imgName:this.newImage[e].name,id:e})},selectPrimaryImage:function(e){this.primaryPicture=e},checkModels:function(){var e=this.addNewCategorie?this.customCategory:this.newCategory;return""!=this.newItemName&&""!=this.newItemPrice&&""!=this.newQuantity&&""!=this.newDimension&&""!=this.newColor&&""!=e&&""!=this.newImage&&""!=this.newItemDescription&&""!=this.primaryPicture},formatPrice:function(){this.newItemPrice=parseFloat(this.newItemPrice).toFixed(2)}},computed:{},mounted:function(){this.getItemsForAdmin()}},l=(i(246),i(7)),c=i(10),d=i.n(c),u=i(445),m=i(411),v=i(412),p=i(70),h=i(449),I=i(136),g=i(3),w=i(435),f=i(446),_=i(450),b=i(130),k=i(128),x=i(398),C=i(399),y=i(400),D=i(401),P=i(413),N=i(444),V=i(71),z=i(113),j=i(447),q=i(418),S=i(30),A=i(448),F=i(25),O=i(402),T=i(35),Q=Object(l.a)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[i("v-app-bar",[i("v-toolbar-title",[e._v("Izdelki")]),e._v(" "),i("v-spacer"),e._v(" "),i("v-text-field",{staticClass:"mt-7",attrs:{label:"Išči izdelke",type:"text",solo:""},on:{keyup:function(t){return e.searchForItems()}},model:{value:e.Search,callback:function(t){e.Search=t},expression:"Search"}})],1),e._v(" "),i("v-app-bar",[i("v-btn-toggle",[i("v-btn",{on:{click:function(t){return e.allUnlisted()}}},[i("v-icon",[e._v("mdi-check")])],1),e._v(" "),i("v-btn",{on:{click:function(t){return e.allDelisted()}}},[i("v-icon",[e._v("mdi-close")])],1),e._v(" "),i("v-btn",{on:{click:function(t){return e.getAllItems()}}},[i("v-icon",[e._v("mdi-all-inclusive")])],1)],1)],1),e._v(" "),i("v-divider"),e._v(" "),i("v-expansion-panels",e._l(this.$store.state.admin.items,(function(t){return i("v-expansion-panel",{key:t.itemId},[i("v-expansion-panel-header",[i("v-row",[i("v-col",{attrs:{cols:"6",xl:"1",md:"2",lg:"2"}},[i("v-img",{attrs:{"aspect-ratio":1,height:"100",width:"100",src:e.migration[0].redirectURL+"storage/products/"+t.dir+"/"+t.primaryImg}})],1),e._v(" "),i("v-col",[e._v("\n                    "+e._s(t.itemName)+"\n                ")]),e._v(" "),i("v-col",[0==t.Quantity?i("p",[e._v("Izdelka ni več na zalogi.")]):e._e()])],1)],1),e._v(" "),i("v-expansion-panel-content",[t.isOnSale?i("p",[e._v("Trenutno na razprodaji!")]):e._e(),e._v(" "),0==t.Delisted?i("p",[e._v("Trenutno v prodaji")]):1==t.Delisted?i("p",[e._v("Ni v prodaji")]):e._e(),e._v(" "),i("p",[e._v(e._s(t.itemDescription))]),e._v(" "),i("v-row",[i("v-col",{attrs:{cols:"12",xl:"4",lg:"4",md:"4"}},[i("v-btn",{attrs:{width:"100%"},on:{click:function(i){return e.getIdToChange(t)}}},[e._v("Spremeni")])],1),e._v(" "),i("v-col",{attrs:{xl:"4",cols:"12",lg:"4",md:"4"}},[i("v-btn",{attrs:{width:"100%"},on:{click:function(i){return e.getIdToDelete(t)}}},[e._v("Izrbriši")])],1),e._v(" "),i("v-col",{attrs:{xl:"4",cols:"12",lg:"4",md:"4"}},[0==t.Delisted?i("v-btn",{attrs:{width:"100%"},on:{click:function(i){return e.delistItem(t.itemId,"Remove")}}},[e._v("Umakni iz prodaje")]):1==t.Delisted?i("v-btn",{attrs:{width:"100%"},on:{click:function(i){return e.delistItem(t.itemId,"Return")}}},[e._v("Vrni v prodajo")]):e._e()],1)],1)],1)],1)})),1),e._v(" "),i("v-dialog",{attrs:{width:"500"},model:{value:e.change,callback:function(t){e.change=t},expression:"change"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[e._v("Spremeni informacije o izdelku")]),e._v(" "),i("v-card-actions",[i("v-container",[i("v-form",{staticClass:"ma-auto",attrs:{width:"500",method:"post",enctype:"multipart/form-data"}},[i("v-text-field",{attrs:{label:"Ime izdelka"},model:{value:e.itemName,callback:function(t){e.itemName=t},expression:"itemName"}}),e._v(" "),i("v-text-field",{attrs:{label:"Količina"},model:{value:e.quantity,callback:function(t){e.quantity=t},expression:"quantity"}}),e._v(" "),i("v-text-field",{attrs:{label:"Cena izdelka"},model:{value:e.itemPrice,callback:function(t){e.itemPrice=t},expression:"itemPrice"}}),e._v(" "),i("v-textarea",{attrs:{label:"Opis","no-resize":""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),e._v(" "),i("v-checkbox",{attrs:{label:"Razprodaja"},model:{value:e.isOnSale,callback:function(t){e.isOnSale=t},expression:"isOnSale"}}),e._v(" "),e.isOnSale?i("div",[i("v-text-field",{attrs:{label:"Znižanje v odstotkih"},model:{value:e.discount,callback:function(t){e.discount=t},expression:"discount"}})],1):e._e()],1)],1)],1),e._v(" "),i("v-card-actions",[i("v-spacer"),e._v(" "),i("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.changeData()}}},[e._v("\n            Spremeni\n            ")]),e._v(" "),i("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.change=!1}}},[e._v("\n            Preklici\n            ")])],1)],1)],1),e._v(" "),i("v-dialog",{attrs:{"max-width":"290"},model:{value:e.deleteItem,callback:function(t){e.deleteItem=t},expression:"deleteItem"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[e._v("Izbriši izdelek?")]),e._v(" "),i("v-card-text",[e._v("\n                Ali ste prepričani da želite izbrisati izdelek? Enkrat ko je izdelek izbrisan ga ni mogoče dobiti nazaj.\n            ")]),e._v(" "),i("v-card-actions",[i("v-spacer"),e._v(" "),i("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.deleteItemFunction()}}},[e._v("\n            Izbriši\n            ")]),e._v(" "),i("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.deleteItem=!1}}},[e._v("\n            Preklic\n            ")])],1)],1)],1),e._v(" "),i("v-dialog",{attrs:{width:"800",height:"600"},model:{value:e.addItem,callback:function(t){e.addItem=t},expression:"addItem"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[e._v("Dodajanje izdelka")]),e._v(" "),i("v-card-actions",[i("v-container",[i("v-form",{ref:"form",staticClass:"ma-auto",attrs:{"lazy-validation":!0,width:"500"}},[e._v("\n                        "+e._s(e.error)+"\n                            "),i("v-row",[i("v-col",[i("v-text-field",{attrs:{label:"Ime izdelka",rules:e.requiredInput,type:"text",required:""},model:{value:e.newItemName,callback:function(t){e.newItemName=t},expression:"newItemName"}})],1),e._v(" "),i("v-col",[i("v-text-field",{attrs:{label:"Cena izdelka",required:"",value:e.newItemPrice,rules:e.requiredInput},on:{blur:function(t){return e.formatPrice()}},model:{value:e.newItemPrice,callback:function(t){e.newItemPrice=e._n(t)},expression:"newItemPrice"}})],1)],1),e._v(" "),i("v-row",[i("v-col",[i("v-text-field",{attrs:{required:"",rules:e.requiredInput,value:e.newQuantity,label:"Količina"},model:{value:e.newQuantity,callback:function(t){e.newQuantity=e._n(t)},expression:"newQuantity"}})],1),e._v(" "),i("v-col",[i("v-text-field",{attrs:{label:"Dimenzija",required:""},model:{value:e.newDimension,callback:function(t){e.newDimension=t},expression:"newDimension"}})],1)],1),e._v(" "),i("v-row",[i("v-col",[i("v-text-field",{attrs:{label:"Barva",dense:"",solo:"",required:"",rules:e.requiredInput},model:{value:e.newColor,callback:function(t){e.newColor=t},expression:"newColor"}})],1),e._v(" "),i("v-col",[i("v-select",{attrs:{items:e.subCategorie,label:"Kategorija",disabled:!!e.addNewCategorie,dense:"",required:"",rules:e.requiredInput,solo:""},model:{value:e.newCategory,callback:function(t){e.newCategory=t},expression:"newCategory"}})],1)],1),e._v(" "),i("v-checkbox",{attrs:{label:"Dodaj novo kategorijo"},model:{value:e.addNewCategorie,callback:function(t){e.addNewCategorie=t},expression:"addNewCategorie"}}),e._v(" "),e.addNewCategorie?i("v-text-field",{attrs:{label:"Dodaj novo kategorijo"},model:{value:e.customCategory,callback:function(t){e.customCategory=t},expression:"customCategory"}}):e._e(),e._v(" "),i("v-file-input",{attrs:{label:"File input",multiple:"",required:"",rules:e.requiredInput,accept:"image/*"},on:{change:function(t){return e.previewImages()}},model:{value:e.newImage,callback:function(t){e.newImage=t},expression:"newImage"}}),e._v(" "),e.showImages?i("v-row",e._l(e.showImages,(function(t){return i("v-col",{key:t.id,attrs:{cols:"3"}},[e.primaryPicture==t.imgName?i("v-img",{staticClass:"primaryImg",attrs:{height:"100",src:t.url}}):i("v-img",{attrs:{height:"100",src:t.url},on:{click:function(i){return e.selectPrimaryImage(t.imgName)}}})],1)})),1):e._e(),e._v(" "),i("v-textarea",{attrs:{label:"Opis",required:"",rules:e.requiredInput,"no-resize":""},model:{value:e.newItemDescription,callback:function(t){e.newItemDescription=t},expression:"newItemDescription"}}),e._v(" "),i("v-card-actions",[i("v-spacer"),e._v(" "),i("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.addNewItem()}}},[e._v("\n                                    Dodaj\n                                    ")]),e._v(" "),i("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.cancel()}}},[e._v("\n                                    Preklic\n                                    ")])],1)],1)],1)],1)],1)],1),e._v(" "),i("v-bottom-navigation",{attrs:{app:"",fixed:""}},[i("v-btn",{on:{click:function(t){e.addItem=!e.addItem}}},[i("span",[e._v("Dodaj")]),e._v(" "),i("v-icon",[e._v("mdi-plus")])],1)],1),e._v(" "),i("v-bottom-sheet",{model:{value:e.success,callback:function(t){e.success=t},expression:"success"}},[i("v-sheet",{staticClass:"text-center",attrs:{height:"200px"}},[i("div",{staticClass:"py-3"},[e._v("Izdelek uspešno spremenjen!")])])],1),e._v(" "),i("v-bottom-sheet",{model:{value:e.successAdd,callback:function(t){e.successAdd=t},expression:"successAdd"}},[i("v-sheet",{staticClass:"text-center",attrs:{height:"200px"}},[i("div",{staticClass:"py-3"},[e._v("Izdelek uspešno dodan!")])])],1)],1)}),[],!1,null,null,null);t.default=Q.exports;d()(Q,{VAppBar:u.a,VBottomNavigation:m.a,VBottomSheet:v.a,VBtn:p.a,VBtnToggle:h.a,VCard:I.a,VCardActions:g.a,VCardText:g.b,VCardTitle:g.c,VCheckbox:w.a,VCol:f.a,VContainer:_.a,VDialog:b.a,VDivider:k.a,VExpansionPanel:x.a,VExpansionPanelContent:C.a,VExpansionPanelHeader:y.a,VExpansionPanels:D.a,VFileInput:P.a,VForm:N.a,VIcon:V.a,VImg:z.a,VRow:j.a,VSelect:q.a,VSheet:S.a,VSpacer:A.a,VTextField:F.a,VTextarea:O.a,VToolbarTitle:T.a})},97:function(e,t,i){var n=i(247);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(5)(n,a);n.locals&&(e.exports=n.locals)}}]);